@()

<!DOCTYPE html>

@import tags._

<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>PWGuard</title>
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">

    @* ----------------------------------------------------------------------
       JQuery
       ---------------------------------------------------------------------- *@

    @scriptStatic("jquery/dist/jquery.min.js")

    @* ----------------------------------------------------------------------
       Fonts
       ---------------------------------------------------------------------- *@

    @stylesheet("https://fonts.googleapis.com/css?family=Asset")
    @stylesheet("https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900")

    @* ----------------------------------------------------------------------
       Angular.js
       ---------------------------------------------------------------------- *@

    @script("static/angular/angular.js")
    @script("static/angular-route/angular-route.js")
    @script("static/angular-cookies/angular-cookies.js")
    @script("static/angular-animate/angular-animate.js")

    @* ----------------------------------------------------------------------
      Other third-party stuff
      ---------------------------------------------------------------------- *@

    @scriptStatic("jquery-ui/jquery-ui.min.js")
    @stylesheetStatic("jquery-ui/themes/ui-lightness/jquery-ui.min.css")
    @scriptStatic("modernizr/modernizr.js")
    @stylesheetStatic("gridism/gridism.css")
    @scriptStatic("momentjs/min/moment.min.js")
    @scriptStatic("chosen/chosen.jquery.min.js")
    @stylesheetStatic("chosen/chosen.min.css")

    @scriptStatic("angular-ui-utils/ui-utils.min.js")
    @scriptStatic("angular-chosen/angular-chosen.js")
    @scriptStatic("angular-route-segment/build/angular-route-segment.js")
    @scriptStatic("angular-tablesort/js/angular-tablesort.js")

    @stylesheetStatic("font-awesome/css/font-awesome.min.css")

    @stylesheetStatic("angular-macgyver/lib/macgyver.css")
    @scriptStatic("angular-macgyver/lib/macgyver.js")

    @stylesheetStatic("animate.css/animate.css")

    @* ----------------------------------------------------------------------
        Local
       ---------------------------------------------------------------------- *@

    @* This <script> block MUST precede other local stuff. *@
    <script type="text/javascript">
      window.ANGULAR_TEMPLATE_URL = "@routes.MainController.getAngularTemplate("TOKEN")";
    </script>

    @stylesheetAsset("main.css")

    @scriptAsset("angular-util.js")
    @scriptAsset("angular-routes.js")
    @scriptAsset("angular-directives.js")
    @scriptAsset("angular-services.js")
    @scriptAsset("main.js")
  </head>

  <body ng-app="PWGuardApp">
    <div ng-controller="MainCtrl">

      @navbar()

      <mac-modal id="confirm-dialog" class="confirm-modal">
        <header ng-show="dialogConfirmTitle">{{dialogConfirmTitle}}</header>
        <div class="modal-message">{{dialogConfirmMessage}}</div>
        <div class="button-bar">
          <button class="btn btn-primary" ng-click="ok()">Yes</button>
          <button class="btn" ng-click="cancel()">No</button>
        </div>
      </mac-modal>

      <div ng-show="initializing" id="initializing">
        <div class="grid">
          <div class="unit whole">
            <div class="message">
              Loading. Please wait...
            </div>
          </div>
        </div>
      </div>

      <div id="content" ng-hide="initializing">
        @flash()

        <div app-view-segment="0" id="segment-level-0"></div>

      </div>
    </div>

    <div ng-hide="true" id="config"
         data-logged-in-user-url="@routes.SessionController.getLoggedInUser"
         data-login-url="@routes.SessionController.login"
         data-logout-url="@routes.SessionController.logout"/>

  </body>
</html>
