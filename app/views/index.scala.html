@()

<!DOCTYPE html>

@import tags._

<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>PWGuard</title>
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">

    @* jQuery *@

    @script("https://code.jquery.com/jquery-1.11.1.min.js")

    @* Fonts *@

    @stylesheet("https://fonts.googleapis.com/css?family=Asset")
    @stylesheet("https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900")

    @* Angular *@

    @script("https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js")
    @script("https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular-route.js")
    @script("https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular-cookies.js")
    @script("https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular-animate.js")

    @* Angular.js add-ons *@

    @scriptStatic("ui-bootstrap-tpls-0.7.0.min.js")
    @scriptStatic("ui-utils.min.js")
    @scriptStatic("http-auth-interceptor.min.js")

    @* Third-party stuff *@

    @stylesheetStatic("gridism.css")
    @scriptStatic("moment.min.js")
    @scriptStatic("http-auth-interceptor.js")
    @scriptStatic("chosen.jquery.min.js")
    @stylesheetStatic("chosen.min.css")
    @scriptStatic("angular-chosen.js")
    @script("//cdnjs.cloudflare.com/ajax/libs/angular-route-segment/1.3.0/angular-route-segment.min.js")
    @scriptStatic("angular-route-segment.js")
    @scriptStatic("angular-tablesort.js")

    @* Font Awesome *@

    @stylesheet("//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css")

    @* Local *@

    @stylesheetAsset("main.css")

    @scriptAsset("angular-util.js")
    @scriptAsset("angular-routes.js")
    @scriptAsset("angular-services.js")
    @scriptAsset("main.js")

    <script type="text/javascript">
      window.ANGULAR_TEMPLATE_URL = "@routes.MainController.getAngularTemplate("TOKEN")";
    </script>

  </head>

  <body ng-app="PWGuardApp">
    <div ng-controller="MainCtrl">

      <div id="navbar" class="grid" ng-controller="NavbarCtrl">
        <div class="unit whole">
          <div id="logo">
            <i class="fa fa-lock"></i> PWGuard
          </div>
          <div id="login-status" ng-show="loggedIn()">
            <a href="javascript:void(0)" ng-click="logout()">Logout</a>
          </div>
          <div id="loading-spinner" ng-show="showSpinner">
            <i class="fa fa-spinner fa-spin"></i>
          </div>
        </div>
      </div>

      <div id="content">
          @* Flash block *@
        <div class="unit whole" id="flash-block">
          <div ng-show="flash.message.info" class="flash flash-info">
            <button class="btn btn-tiny close" ng-click="flash.clearInfo()">
              &times;
            </button>
            <div class="flash-message">{{flash.message.info}}</div>
          </div>

          <div ng-show="flash.message.error" class="flash flash-error">
            <button class="btn btn-tiny close" ng-click="flash.clearError()">
              &times;
            </button>
            <span class="flash-message">{{flash.message.error}}</span>
          </div>
        </div>

        <div app-view-segment="0"
             ng-show="segmentIsActive('login')">
        </div>

        <div app-view-segment="1"
             ng-show="segmentIsActive('home')">
        </div>
      </div>
    </div>

    <div ng-hide="true" id="config"
         data-logged-in-user-url="@routes.SessionController.getLoggedInUser"
         data-login-url="@routes.SessionController.login"
         data-logout-url="@routes.SessionController.logout"/>
  </body>
</html>
